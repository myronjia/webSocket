<#include "/comm/head.html">

    <style>
        body{font-size: 14px;font-family: 'helvetica neue',tahoma,arial,'hiragino sans gb','microsoft yahei','Simsun',sans-serif; background-color:#fff; color:#808080;}
        .wrap{margin:200px auto;width:510px;}
        td{text-align:left; padding:2px 10px;}
        td.header{font-size:22px; padding-bottom:10px; color:#000;}
        td.check-info{padding-top:20px;}
        a{color:#328ce5; text-decoration:none;}
        a:hover{text-decoration:underline;}
    </style>

<body>
<div class="wrap">
    <table>
        <tr>
            <td class="header">用户已经过期，&nbsp;<span id="sp">3</span>&nbsp;秒后自动跳转到登录页！</td>
        </tr>
        <tr><td>点击<a onclick="goLogin()">这里</a>直接跳转</td></tr>
    </table>
</div>
<script type="text/javascript">
    onload=function(){
        setInterval(go, 1000);
    };
    var x=3; //利用了全局变量来执行
    function go(){
        x--;
        if(x>0){
            document.getElementById("sp").innerHTML=x; //每次设置的x的值都不一样了。
        }else{
            goLogin();
        }
    }

    function goLogin(){
        if(window.parent.vue){
            window.parent.vue.reLogin();
        }
        else{
            location.href = "${base}/home/login";
        }
    }
</script>
</body>
</html>